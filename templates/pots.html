{% extends "base.html" %}
{% block title %}POTS Simulator{% endblock %}
{% block body %}
<h1>Plain Old Telephone Service (POTS) Simulator</h1>
<p><a href="https://github.com/nicktimko/pots-sim/">Source</a></p>
<hr>
<form class="form-horizontal" action="" method="post" enctype="multipart/form-data">
  <div class="form-group">
    <label for="infile" class="col-sm-2 control-label">Input File</label>
    <div class="col-sm-10">
    <input type="file" name="file" id="infile">
    </div>
  </div>
  <div class="form-group">
    <label for="snr" class="col-sm-2 control-label">Signal to Noise Ratio</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="snr" id="snr" value="30" size="4" maxlength="4">
      <p class="help-block">Value in dB. Lower is noisier. Approximate.</p>
    </div>
  </div>
  <div class="form-group">
    <label for="seed" class="col-sm-2 control-label">PRNG Seed</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="seed" id="seed" size="8">
      <p class="help-block">Accepts integers. Leave blank for random seed.</p>
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-10 col-sm-offset-2">
      <button type="submit" class="btn btn-primary">Process</button>
    </div>
  </div>
</form>
<hr>
<h2>Input Requirements</h2>
<ul>
  <li>32 MB maximum</li>
</ul>

<h3>WAV</h3>
<ul>
  <li>File must end with <code>.wav</code></li>
  <li>44.1 kHz sample rate (blindly assumed)</li>
  <li>Mono/1-channel</li>
  <li>16-bit linear</li>
</ul>

<h3>Text</h3>
<ul>
  <li>File must end with <code>.txt</code></li>
  <li>One number per line (they will be normalized and quantized to 16-bit)</li>
</ul>

<h3>JSON</h3>
<ul>
  <li><code>POST</code> an object with a <code>"data"</code> field containing a 1-D array of numbers to <code>/pots/json</code>. Optional fields:</li>
  <ul>
    <li><code>"snr"</code> can take a number (in dB) to control the signal to noise ratio</li>
    <li><code>"seed"</code> can take a number to fix the PRNG seed</li>
  </ul>
  <li>Reply is an object with a <code>"data"</code> field which hopefully has what you want.</li>
</ul>

{% endblock %}
